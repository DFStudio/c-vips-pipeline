# c-vips-pipeline


## About The Project

This is a simple application to interact with the VIPS API in order to perform a simple scale
of an input image and subsequently perform sharpening on the scaled image before output. The
motivation for creating this simple application rather than simply using the `vipsthumbnail`
or `vips` is: (1) `vipsthumbnail` does not provide control over the sharpening used to create
its output thumbnails, and (2) the `vips` CLI requires creating intermediate files on disk in
order to make multiple calls to the VIPS API, which would negatively affect performance
dramatically.

## Compilation

Simple run the `compile` script.

```
./compile
```

This script uses `clang`, with flags generated by `pkg-config`.

## CMake

There is also a CMakeLists.txt so if you want you can open this directory as a project in CLion, or use CMake directly like this:

```
# Say your source from git lives in SOURCE_DIR. You need to make a build directory BUILD_DIR for CMake to work in.
ROOT_DIR=$HOME
SOURCE_DIR=$ROOT_DIR/c-vips-scale
BUILD_DIR=$ROOT_DIR/c-vips-scale-build
mkdir -p $BUILD_DIR 

# Then go to the build directory .
cd $BUILD_DIR

# And run these commands.
cmake $SOURCE_DIR
cmake --build .
```

## Usage

Coming soon!

## Miscellaneous
It's possible to compile without pkg-config, but it's not as clean. Besides the vips project's dev tool of choice.
```
clang main.c                        \
-o vips-scale                     \
-I/opt/local/include/glib-2.0     \
-I/opt/local/lib/glib-2.0/include \
-lvips                            \
-lglib-2.0                        \
-lgobject-2.0                     \
```

